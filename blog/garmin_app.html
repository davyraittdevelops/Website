<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="How I Try (and Sometimes Fail) to Stay on Track with My Fitness Goals: Building a Garmin Data Tracker" />
    <meta name="author" content="Davy Raitt" />
    <title>How I Try (and Sometimes Fail) to Stay on Track with My Fitness Goals: Building a Garmin Data Tracker</title>
    <link rel="icon" type="image/x-icon" href="../assets/img/favicon.ico" />
    <link href="../css/styles.css" rel="stylesheet" />
    <style>
        pre code {
            background: #333;
            color: white;
            padding: 10px;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 14px;
            display: block;
            white-space: pre-wrap;
            word-wrap: break-word;
            width: 100%;
            box-sizing: border-box;
        }

        .banner-image {
        width: 100%;
        max-width: 300px; /* Adjust this value based on your preference */
        height: auto;
        margin: 0 auto 32px;
        display: block;
        overflow: hidden;
        border-radius: 20px; /* Adds rounded corners */
        box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* Adds a subtle shadow */
        }

        .banner-image img {
            width: 100%;
            height: auto;
            object-fit: cover;
            display: block;
        }

        @media (max-width: 768px) {
            .banner-image {
                max-width: 80%; /* Makes image responsive on smaller screens */
            }
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
        <a class="navbar-brand js-scroll-trigger" href="../#page-top">Back to Portfolio</a>
    </nav>
    <div class="container-fluid p-4">
        <div class="resume-section-content">
            <h2>How I Try (and Sometimes Fail) to Stay on Track with My Fitness Goals: Building a Garmin Data Tracker</h2>
            <p class="blog-post-meta">October 20, 2024 by Davy Raitt</p>

            <div class="banner-image">
                <img src="../assets/img/blog3_thumbnail.jpeg" alt="Fitness Tracker Banner" />
            </div>

            <h4>The Challenge: When Your Fitness App is as Motivating as a Sloth</h4>
            <p>As a software developer with a passion for fitness (and a slight addiction to gadgets), I've always been fascinated by the intersection of technology and personal health. Like many people, I struggle with consistency in my fitness routine. Some days I'm pumped to run a marathon, other days I consider reaching for the TV remote as my cardio.</p>

            <p>I have a Garmin watch that tracks my activities, but let's be honest, the Garmin app is about as exciting as watching paint dry. I needed something more engaging, something that would make me want to move more than just my thumbs while scrolling through Netflix.</p>

            <h4>The Solution: A Custom Garmin Data Tracker (Because I'm a Nerd Who Loves to Gamify Everything)</h4>
            <p>To bring this idea to life, I decided to create my own fitness tracking app. Because why use something off the shelf when you can spend countless hours building your own, right? Here's how I did it:</p>

            <h5>Backend (AWS Lambda) - Where the Magic (and Occasional Cursing) Happens</h5>
            <p>I created a Python Lambda function that connects to the Garmin API using the garth library. Here's a snippet of how it fetches and processes activities:</p>

            <pre><code lang="python">
def fetch_and_process_activities(start_date, end_date):
    print(f'Fetching activities from {start_date} to {end_date}')
    activities = garth.connectapi(
        "/activitylist-service/activities/search/activities",
        params={"startDate": start_date, "endDate": end_date}
    )
    
    total_km = 0
    for activity in activities:
        activity_type = activity['activityType']['typeKey']
        if activity_type in ['walking', 'running', 'treadmill_running', 'hiking']:
            distance_km = activity['distance'] / 1000  # Convert meters to kilometers
            total_km += distance_km
            print(f"Added {distance_km:.2f} km from {activity_type} activity on {activity['startTimeLocal']}.")
    
    print(f"Total distance for specified range: {total_km:.2f} km.")
    return total_km
            </code></pre>

            <p>This function fetches activities for a given date range and calculates the total distance for walking, running, and hiking activities. It's like a personal accountant for your sweat equity!</p>

            <h5>Frontend (Flutter) - Where the Magic Becomes Visible (Most of the Time)</h5>
            <p>I built a Flutter app that communicates with my AWS backend to display my Garmin data. One of the key features is a chart showing my monthly activity. Here's a snippet of how I created this chart:</p>

            <pre><code lang="dart">
class KilometersChart extends StatelessWidget {
  final List<KmData> data;

  const KilometersChart(this.data, {Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return AspectRatio(
      aspectRatio: 1.7,
      child: BarChart(
        BarChartData(
          alignment: BarChartAlignment.spaceAround,
          maxY: data.map((e) => e.km).reduce((a, b) => a > b ? a : b) * 1.2,
          barTouchData: BarTouchData(
            touchTooltipData: BarTouchTooltipData(
              getTooltipItem: (group, groupIndex, rod, rodIndex) {
                return BarTooltipItem(
                  '${data[groupIndex].month}\n',
                  TextStyle(color: Colors.white, fontWeight: FontWeight.bold),
                  children: <TextSpan>[
                    TextSpan(
                      text: '${rod.toY.toStringAsFixed(1)} km',
                      style: const TextStyle(
                        color: Colors.yellow,
                        fontSize: 16,
                        fontWeight: FontWeight.w500,
                      ),
                    ),
                  ],
                );
              },
            ),
          ),
          titlesData: FlTitlesData(
            // ... (title configuration)
          ),
          borderData: FlBorderData(show: false),
          barGroups: data.asMap().entries.map((entry) {
            return BarChartGroupData(
              x: entry.key,
              barRods: [
                BarChartRodData(
                  toY: entry.value.km,
                  color: Theme.of(context).primaryColor,
                  width: 22,
                  borderRadius: const BorderRadius.only(
                    topLeft: Radius.circular(6),
                    topRight: Radius.circular(6),
                  ),
                ),
              ],
            );
          }).toList(),
        ),
      ),
    );
  }
}
            </code></pre>

            <p>This chart shows my monthly kilometers, making it painfully clear which months I've been more couch potato than road warrior.</p>

            <h4>The Impact: It Worked! ...Kind Of</h4>
            <p>Since implementing this system, I've noticed several changes:</p>
            <ol>
                <li><strong>Increased Awareness:</strong> I'm now acutely aware of how little I move some days. Thanks, app!</li>
                <li><strong>Goal-Oriented Mindset:</strong> The yearly and weekly goals give me clear targets to work towards, or in some cases, clear targets to feel guilty about not reaching.</li>
                <li><strong>Motivation Boost:</strong> Seeing my progress visually represented is incredibly motivating, especially on days when I'm tempted to skip a workout. It's like having a digital fitness coach that silently judges you.</li>
                <li><strong>Data-Driven Decisions:</strong> I can now make more informed decisions about my training. For example, I've learned that I'm really good at coming up with excuses not to run when it's raining.</li>
            </ol>

            <h4>Technical Challenges and Learnings (or, "Why Did I Think This Was a Good Idea?")</h4>
            <p>Building this project wasn't without its challenges. Some key learnings include:</p>
            <ol>
                <li><strong>API Acrobatics:</strong> Garmin wouldn't give me API access, so I had to use the garth library. It felt like I was playing data fetch with a stubborn dog.</li>
                <li><strong>Activity Type Confusion:</strong> Turns out, Garmin has more activity types than I have excuses for not working out. Categorizing these was... fun.</li>
                <li><strong>Time is Relative:</strong> Calculating yearly and monthly totals was trickier than expected. Einstein was right - time is relative, especially when you're trying to code time-based calculations.</li>
                <li><strong>API Limits are Real:</strong> I couldn't fetch a full year of data at once, so I had to "paginate" my requests. It was like trying to fill a swimming pool with a teaspoon.</li>
            </ol>

            <h4>Future Enhancements (or "Feature Creep")</h4>
            <p>While the current version of my Garmin data tracker is functional (most of the time), I have several ideas for future improvements:</p>
            <ol>
                <li>Implement machine learning to predict future performance based on past data. (Spoiler: It will probably just tell me to get off the couch more often)</li>
                <li>Add social features to compare progress with friends. (Because nothing motivates like a little friendly competition and public shaming)</li>
            </ol>

            <h4>Conclusion: Was It Worth It?</h4>
            <p>Building this Garmin data tracker has been an exciting journey that combines my love for coding with my passion for fitness. It's a testament to how personal projects can not only improve our technical skills but also positively impact our daily lives. Or at least, give us something to blame when we don't meet our fitness goals.</p>
            <p>Has it made me a fitness god? Not quite. But it has helped me move more, and sometimes, that's all we can ask for. Plus, now I have a really cool app to show off at parties and at work.</p>
            <p>Remember, the key to achieving fitness goals often lies in consistency, awareness, and having a sense of humor about the whole process. Whether you build your own tracker or use existing tools, find a way to keep your goals visible and measure your progress. And if all else fails, remember: running away from your problems counts as cardio.</p>
            <p>The project can be found here: https://github.com/davyraittdevelops/fitness_goal_app</p>
            <p><em>Note: This project is for personal use and educational purposes. Always ensure you comply with the terms of service of any APIs you're using, and never share your personal credentials in your code. Also, please don't sue me, Garmin. I promise I'm not trying to steal your users, just motivate myself!</em></p>
        </div>
    </div>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>