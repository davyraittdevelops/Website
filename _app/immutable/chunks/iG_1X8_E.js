import{w as I,x as h,y as R,E as m,J as x,K as L,L as C,M as D,N as k,O as F,C as y,P as O,U as q,Q as M,R as P,S as U,G as Y,T as w,V as B,W as G,b as H,X as J}from"./BPkZFv6A.js";function Q(s,f,c=!1){h&&R();var i=s,e=null,a=null,r=q,N=c?m:0,u=!1;const S=(l,t=!0)=>{u=!0,v(t,l)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var l=r?e:a,t=r?a:e;l&&P(l),t&&U(t,()=>{r?a=null:e=null})}const v=(l,t)=>{if(r===(r=l))return;let b=!1;if(h){const g=x(i)===L;!!r===g&&(i=C(),D(i),k(!1),b=!0)}var T=M(),d=i;if(T&&(n=document.createDocumentFragment(),n.append(d=F())),r?e??=t&&y(()=>t(d)):a??=t&&y(()=>t(d)),T){var _=O,p=r?e:a,E=r?a:e;p&&_.skipped_effects.delete(p),E&&_.skipped_effects.add(E),_.add_callback(o)}else o();b&&k(!0)};I(()=>{u=!1,f(S),u||v(null,null)},N),h&&(i=Y)}function A(s,f){return s===f||s?.[J]===f}function V(s={},f,c,i){return w(()=>{var e,a;return B(()=>{e=a,a=[],H(()=>{s!==c(...a)&&(f(s,...a),e&&A(c(...e),s)&&f(null,...e))})}),()=>{G(()=>{a&&A(c(...a),s)&&f(null,...a)})}}),s}export{V as b,Q as i};
